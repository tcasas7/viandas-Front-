<ion-card color="light" style="width: 77vw; max-width: 600px; margin: 0 auto; position: relative;">
  <ion-item lines="none" color="translucent" class="tittle-item">
    Registrarse 
    <ion-icon name="close" (click)="closeModal()" style="position: absolute; top: 10px; right: 10px; cursor: pointer; font-size: 24px;"></ion-icon>
  </ion-item>
  <form [formGroup]="registerForm">
    
    <!-- Nombre -->
    <ion-item color="translucent">
      <ion-input label="Nombre *" formControlName="firstName" type="text" placeholder="Juan"></ion-input>
    </ion-item>
    <small *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched" style="color: red;">❌ Campo obligatorio.</small>

    <!-- Apellido -->
    <ion-item color="translucent">
      <ion-input label="Apellido *" formControlName="lastName" type="text" placeholder="Perez"></ion-input>
    </ion-item>
    <small *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched" style="color: red;">❌ Campo obligatorio.</small>



    <ion-item color="translucent">
      <div class="phone-container">
        <!-- Selector de país -->
        <ion-select formControlName="countryCode" interface="popover" class="country-select">
          <ion-select-option value="+54">🇦🇷 +54 (Argentina)</ion-select-option>
          <ion-select-option value="+598">🇺🇾 +598 (Uruguay)</ion-select-option>
          <ion-select-option value="+56">🇨🇱 +56 (Chile)</ion-select-option>
          <ion-select-option value="+591">🇧🇴 +591 (Bolivia)</ion-select-option>
          <ion-select-option value="+595">🇵🇾 +595 (Paraguay)</ion-select-option>
          <ion-select-option value="+51">🇵🇪 +51 (Perú)</ion-select-option>
          <ion-select-option value="+57">🇨🇴 +57 (Colombia)</ion-select-option>
          <ion-select-option value="+507">🇵🇦 +507 (Panamá)</ion-select-option>
          <ion-select-option value="+503">🇸🇻 +503 (El Salvador)</ion-select-option>
          <ion-select-option value="+502">🇬🇹 +502 (Guatemala)</ion-select-option>
          <ion-select-option value="+505">🇳🇮 +505 (Nicaragua)</ion-select-option>
          <ion-select-option value="+506">🇨🇷 +506 (Costa Rica)</ion-select-option>
          <ion-select-option value="+593">🇪🇨 +593 (Ecuador)</ion-select-option>
          <ion-select-option value="+1">🇺🇸 +1 (EE.UU.)</ion-select-option>
          <ion-select-option value="+34">🇪🇸 +34 (España)</ion-select-option>
          <ion-select-option value="+52">🇲🇽 +52 (México)</ion-select-option>
          <ion-select-option value="+55">🇧🇷 +55 (Brasil)</ion-select-option>
          <ion-select-option value="+53">🇨🇺 +53 (Cuba)</ion-select-option>
          <ion-select-option value="+58">🇻🇪 +58 (Venezuela)</ion-select-option>

        </ion-select>
    
        <!-- Campo de número de teléfono -->
        <ion-input label="Número *" formControlName="phone" type="tel" placeholder="Ej: 2231234567" maxlength="10"></ion-input>
      </div>
    </ion-item>
    

<small *ngIf="registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched" style="color: red;">
  ❌ Ingrese un número de **10 dígitos** sin espacios ni guiones.
</small>




    <!-- Dirección 
    <ion-item color="translucent">
      <ion-input label="Dirección *" formControlName="address" type="text" placeholder="Ej: Calle 123, Ciudad"></ion-input>
    </ion-item>
    <small *ngIf="registerForm.get('address')?.invalid && registerForm.get('address')?.touched" style="color: red;">❌ Campo obligatorio.</small>
  -->
    <!-- Email -->
    <ion-item color="translucent">
      <ion-input label="Correo Electrónico *" formControlName="email" type="email" placeholder="ejemplo@dominio.com"></ion-input>
    </ion-item>
    <small *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" style="color: red;">❌ Ingrese un correo válido.</small>

    <!-- Contraseña -->
    <ion-item color="translucent">
      <ion-input label="Contraseña *" formControlName="password" [type]="showPassword ? 'text' : 'password'" placeholder="Contraseña"></ion-input>
      <ion-icon name="{{ showPassword ? 'eye-off-outline' : 'eye-outline' }}" (click)="togglePasswordVisibility()" style="cursor: pointer;"></ion-icon>
    </ion-item>
    <small *ngIf="registerForm.get('password')?.hasError('minlength')" style="color: red;">
      ❌ La contraseña debe tener al menos 6 caracteres.
    </small>
    
    

    <!-- Repetir Contraseña -->
    <ion-item color="translucent">
      <ion-input label="Repetir Contraseña *" formControlName="repeatPassword" [type]="showPassword ? 'text' : 'password'" placeholder="Repetir contraseña"></ion-input>
    </ion-item>

    <small *ngIf="registerForm.hasError('mismatch')" style="color: red;">
      ❌ Las contraseñas no coinciden.
    </small>

  </form>

  <div class="button-container">
    <ion-button class="login-button" (click)="registerUser()" [disabled]="!registerForm.valid">Registrarse</ion-button>
  </div>
</ion-card>
